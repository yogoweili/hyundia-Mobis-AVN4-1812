/*
 * Copyright (C) 2010 Telechips, Inc.
 * Copyright (C) 2013 Cleinsoft, Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

#include <dev/gpio.h>
#include <platform/gpio.h>
#include <platform/reg_physical.h>
#include <platform/globals.h>
#include <daudio_ver.h>

struct gpio_cfg {
	unsigned port;
	unsigned function;
	unsigned direction;
	unsigned pull;
};

#define IO_OFFSET			0x00000000
#define tcc_p2v(pa)			((pa) - IO_OFFSET)

#if defined(TARGET_BOARD_DAUDIO)
struct gpio_cfg DAUDIO_REV_5_GPIO_init_tbl[] = {
	{ TCC_GPA(0)  ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPA(1)  ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPA(2)  ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPA(3)  ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPA(4)  ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPA(5)  ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPA(6)  ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPA(7)  ,GPIO_FN2 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//eMMC SD1_CLK
	{ TCC_GPA(8)  ,GPIO_FN2 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//eMMC SD1_CMD
	{ TCC_GPA(9)  ,GPIO_FN2 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//eMMC SD1_DATA[00]
	{ TCC_GPA(10) ,GPIO_FN2 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//eMMC SD1_DATA[01]
	{ TCC_GPA(11) ,GPIO_FN2 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//eMMC SD1_DATA[02]
	{ TCC_GPA(12) ,GPIO_FN2 , GPIO_INPUT           , GPIO_PULLDISABLE },	//eMMC SD1_DATA[03]
	{ TCC_GPA(13) ,GPIO_FN2 , GPIO_INPUT           , GPIO_PULLDISABLE },	
	{ TCC_GPA(14) ,GPIO_FN2 , GPIO_INPUT           , GPIO_PULLDISABLE },	
	{ TCC_GPA(15) ,GPIO_FN2 , GPIO_INPUT           , GPIO_PULLDISABLE },	
	{ TCC_GPA(16) ,GPIO_FN2 , GPIO_INPUT           , GPIO_PULLDISABLE },	
	{ TCC_GPA(17) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPA(18) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPA(19) ,GPIO_FN0 , GPIO_OUTPUT|GPIO_HIGH, GPIO_PULLDISABLE },	//eMMC reset
	{ TCC_GPA(20) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPA(21) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPA(22) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPA(23) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPA(24) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPA(25) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPA(26) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPA(27) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPA(28) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPA(29) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPA(30) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPA(31) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },

	{ TCC_GPB(0)  ,GPIO_FN9 , GPIO_OUTPUT|GPIO_HIGH, GPIO_PULLDISABLE },	//MICOM_SPI_SCK  GSCK[05]
	{ TCC_GPB(1)  ,GPIO_FN9 , GPIO_OUTPUT|GPIO_HIGH, GPIO_PULLDISABLE },	//MICOM_SPI_MOSI GSD0[05]
	{ TCC_GPB(2)  ,GPIO_FN9 , GPIO_OUTPUT|GPIO_HIGH, GPIO_PULLDISABLE },	//MICOM_SPI_CS   GSCMD[05]
	{ TCC_GPB(3)  ,GPIO_FN9 , GPIO_INPUT           , GPIO_PULLDISABLE },	//MICOM_SPI_MISO GSDI[05]
	{ TCC_GPB(4)  ,GPIO_FN0 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//CPU_BOOT_OK
	{ TCC_GPB(5)  ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE }, 	//CDMA_BOOT_OK_OUT
	{ TCC_GPB(6)  ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPB(7)  ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPB(8)  ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPB(9)  ,GPIO_FN11, GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//IPOD_I2C_SDA	I2C_SDA[08]
	{ TCC_GPB(10) ,GPIO_FN11, GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//IPOD_I2C_SCL	I2C_SCL[08]
	{ TCC_GPB(11) ,GPIO_FN10, GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//UART4_TX_GPS	UART_TXD[06]
	{ TCC_GPB(12) ,GPIO_FN10, GPIO_INPUT           , GPIO_PULLDISABLE },	//UART4_RX_GPS	UART_RXD[06]
	{ TCC_GPB(13) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },	//GPS_ANT_SHORT
	{ TCC_GPB(14) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },	//GPS_PPS_INT
	{ TCC_GPB(15) ,GPIO_FN0 , GPIO_OUTPUT|GPIO_HIGH, GPIO_PULLDISABLE },	//GPS_RESET_N
	{ TCC_GPB(16) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPB(17) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPB(18) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },	//M105_CPU_4.5V_DET
	{ TCC_GPB(19) ,GPIO_FN10, GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//FM1288_UART_TX	UART_TXD[07]
	{ TCC_GPB(20) ,GPIO_FN10, GPIO_INPUT           , GPIO_PULLDISABLE },	//FM1288_UART_RX	UART_RXD[07]
	{ TCC_GPB(21) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPB(22) ,GPIO_FN0 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//FM1288_RESET
	{ TCC_GPB(23) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPB(24) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPB(25) ,GPIO_FN10, GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//MICOM_UART_TXD UART_TXD[08]
	{ TCC_GPB(26) ,GPIO_FN10, GPIO_INPUT           , GPIO_PULLDISABLE },	//MICOM_UART_RXD UART_RXD[08]
	{ TCC_GPB(27) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPB(28) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPB(29) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPB(30) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },	//TOUCH_JIG_DET
	{ TCC_GPB(31) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },

	{ TCC_GPC(0)  ,GPIO_FN1 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//ETHERNET MAC1_TXCLK
	{ TCC_GPC(1)  ,GPIO_FN1 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//ETHERNET MAC1_MDC
	{ TCC_GPC(2)  ,GPIO_FN1 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//ETHERNET MAC1_MDIO
	{ TCC_GPC(3)  ,GPIO_FN1 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//ETHERNET MAC1_RXD[00]
	{ TCC_GPC(4)  ,GPIO_FN1 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//ETHERNET MAC1_RXD[01]
	{ TCC_GPC(5)  ,GPIO_FN1 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//ETHERNET MAC1_TXD[00]
	{ TCC_GPC(6)  ,GPIO_FN1 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//ETHERNET MAC1_TXD[01]
	{ TCC_GPC(7)  ,GPIO_FN1 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//ETHERNET MAC1_TXEN
	{ TCC_GPC(8)  ,GPIO_FN1 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//ETHERNET MAC1_CRS_DV
	{ TCC_GPC(9)  ,GPIO_FN1 , GPIO_INPUT           , GPIO_PULLDISABLE },	//CDP_I2S_DI CD_DI
	{ TCC_GPC(10) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPC(11) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPC(12) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPC(13) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPC(14) ,GPIO_FN1 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//ETHERNET MAC1_RXER
	{ TCC_GPC(15) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPC(16) ,GPIO_FN0 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//ETHERNET MAC1_RST_B GPIOC[16]
	{ TCC_GPC(17) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPC(18) ,GPIO_FN7 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//PMIC_I2C_DATA I2C_SDA[12]
	{ TCC_GPC(19) ,GPIO_FN7 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//PMIC_I2C_CLK  I2C_SCL[12]
	{ TCC_GPC(20) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },	//PMIC_I2C_IRQ  GPIOC[20]
	{ TCC_GPC(21) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPC(22) ,GPIO_FN5 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPC(23) ,GPIO_FN5 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPC(24) ,GPIO_FN5 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPC(25) ,GPIO_FN5 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPC(26) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },	//ETHERNET MAC1_INT GPIOC[26]
	{ TCC_GPC(27) ,GPIO_FN1 , GPIO_INPUT           , GPIO_PULLDISABLE },	//CDP_I2S_BCLK	CD_BCLKI
	{ TCC_GPC(28) ,GPIO_FN1 , GPIO_INPUT           , GPIO_PULLDISABLE },	//CDP_I2S_LRCK	CD_LRCKI
	{ TCC_GPC(29) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },	//M172_REVERSE
	{ TCC_GPC(30) ,GPIO_FN7 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//I2C_TOUCH_SDA I2C_SDA[15]
	{ TCC_GPC(31) ,GPIO_FN7 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//I2C_TOUCH_SCL I2C_SCL[15]

	{ TCC_GPD(0)  ,GPIO_FN4 , GPIO_INPUT           , GPIO_PULLDISABLE },	//CAM_DATA[07]
	{ TCC_GPD(1)  ,GPIO_FN4 , GPIO_INPUT           , GPIO_PULLDISABLE },	//CAM_DATA[06]
	{ TCC_GPD(2)  ,GPIO_FN4 , GPIO_INPUT           , GPIO_PULLDISABLE },	//CAM_DATA[05]
	{ TCC_GPD(3)  ,GPIO_FN4 , GPIO_INPUT           , GPIO_PULLDISABLE },	//CAM_DATA[04]
	{ TCC_GPD(4)  ,GPIO_FN4 , GPIO_INPUT           , GPIO_PULLDISABLE },	//CAM_DATA[03]
	{ TCC_GPD(5)  ,GPIO_FN4 , GPIO_INPUT           , GPIO_PULLDISABLE },	//CAM_DATA[02]
	{ TCC_GPD(6)  ,GPIO_FN4 , GPIO_INPUT           , GPIO_PULLDISABLE },	//CAM_DATA[01]
	{ TCC_GPD(7)  ,GPIO_FN4 , GPIO_INPUT           , GPIO_PULLDISABLE },	//CAM_DATA[00]
	{ TCC_GPD(8)  ,GPIO_FN4 , GPIO_INPUT           , GPIO_PULLDISABLE },	//CAM_ICLKI
	{ TCC_GPD(9)  ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPD(10) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },	//SIRIUS_INT GPIOD[10]
	{ TCC_GPD(11) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPD(12) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },	//XM_F_ACT			 GPIOD[12]
#if defined(INCLUDE_XM)
	{ TCC_GPD(13) ,GPIO_FN0 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//CPU_SIRIUS_UART_TX UART_TXD[03]
	{ TCC_GPD(14) ,GPIO_FN0 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//CPU_SIRIUS_UART_RX UART_RXD[03]
#else
	{ TCC_GPD(13) ,GPIO_FN4 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },    //CPU_SIRIUS_UART_TX UART_TXD[03]
	{ TCC_GPD(14) ,GPIO_FN4 , GPIO_INPUT           , GPIO_PULLDISABLE },    //CPU_SIRIUS_UART_RX UART_RXD[03]
#endif
	{ TCC_GPD(15) ,GPIO_FN8 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//8930_I2C3_SDA I2C_SDA[06] TW9912
	{ TCC_GPD(16) ,GPIO_FN8 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//8930_I2C3_SCL I2C_SDA[06] TW9912
	{ TCC_GPD(17) ,GPIO_FN0 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//TW9912_RESET
	{ TCC_GPD(18) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },	//SDCARD_WP
	{ TCC_GPD(19) ,GPIO_FN0 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//SD_PWR_EN
	{ TCC_GPD(20) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },	//SDCARD_CD
	{ TCC_GPD(21) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },	//GPS_ANT_OPEN GPIOD[21]
	{ TCC_GPD(22) ,GPIO_FN15, GPIO_INPUT           , GPIO_PULLDISABLE },	//SPI_SIRIUS_SCLK GSCK[02]
	{ TCC_GPD(23) ,GPIO_FN15, GPIO_INPUT           , GPIO_PULLDISABLE },	//SPI_SIRIUS_CS   GSCMD[02]
	{ TCC_GPD(24) ,GPIO_FN15, GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//SPI_SIRIUS_MISO GSDI[02]
	{ TCC_GPD(25) ,GPIO_FN15, GPIO_INPUT           , GPIO_PULLDISABLE },	//SPI_SIRIUS_MOSI GSDO[02]
	{ TCC_GPD(26) ,GPIO_FN2 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//SD3_DATA[03]
	{ TCC_GPD(27) ,GPIO_FN2 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//SD3_DATA[02]
	{ TCC_GPD(28) ,GPIO_FN2 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//SD3_DATA[01]
	{ TCC_GPD(29) ,GPIO_FN2 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//SD3_DATA[00]
	{ TCC_GPD(30) ,GPIO_FN2 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//SD3_CMD
	{ TCC_GPD(31) ,GPIO_FN2 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//SD3_CLK

	{ TCC_GPE(0)  ,GPIO_FN4 , GPIO_INPUT           , GPIO_PULLDISABLE },	//CMMB_656	CAM2_DATA[07]
	{ TCC_GPE(1)  ,GPIO_FN4 , GPIO_INPUT           , GPIO_PULLDISABLE },	//CMMB_656	CAM2_DATA[06]
	{ TCC_GPE(2)  ,GPIO_FN4 , GPIO_INPUT           , GPIO_PULLDISABLE },	//CMMB_656	CAM2_DATA[05]
	{ TCC_GPE(3)  ,GPIO_FN4 , GPIO_INPUT           , GPIO_PULLDISABLE },	//CMMB_656	CAM2_DATA[04]
	{ TCC_GPE(4)  ,GPIO_FN4 , GPIO_INPUT           , GPIO_PULLDISABLE },	//CMMB_656	CAM2_DATA[03]
	{ TCC_GPE(5)  ,GPIO_FN4 , GPIO_INPUT           , GPIO_PULLDISABLE },	//CMMB_656	CAM2_DATA[02]
	{ TCC_GPE(6)  ,GPIO_FN4 , GPIO_INPUT           , GPIO_PULLDISABLE },	//CMMB_656	CAM2_DATA[01]
	{ TCC_GPE(7)  ,GPIO_FN4 , GPIO_INPUT           , GPIO_PULLDISABLE },	//CMMB_656	CAM2_DATA[00]
	{ TCC_GPE(8)  ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPE(9)  ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPE(10) ,GPIO_FN4 , GPIO_INPUT           , GPIO_PULLDISABLE },	//CMMB_656	CAM2_ICLKI
	{ TCC_GPE(11) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPE(12) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPE(13) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPE(14) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPE(15) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPE(16) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },	//SIRIUS_INT
	{ TCC_GPE(17) ,GPIO_FN6 , GPIO_INPUT           , GPIO_PULLDISABLE },	//SPI_SIRIUS_MISO	GSDI[12]
	{ TCC_GPE(18) ,GPIO_FN6 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//SPI_SIRIUS_CS		GSCMD[12]
	{ TCC_GPE(19) ,GPIO_FN6 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//SPI_SIRIUS_MOSI	GSDO[12]
	{ TCC_GPE(20) ,GPIO_FN6 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//SPI_SIRIUS_SCLK	GSCK[12]
	{ TCC_GPE(21) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPE(22) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPE(23) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPE(24) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPE(25) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPE(26) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPE(27) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPE(28) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPE(29) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPE(30) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPE(31) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },

	{ TCC_GPF(0)  ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },	//I2C_TOUCH_INT GPIO_F00
	{ TCC_GPF(1)  ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPF(2)  ,GPIO_FN0 , GPIO_OUTPUT|GPIO_HIGH , GPIO_PULLDISABLE },	//TOUCH_RESET TOUCH_POR(power)
	{ TCC_GPF(3)  ,GPIO_FN0 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//XM_SHDN
	{ TCC_GPF(4)  ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPF(5)  ,GPIO_FN0 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//XM_RESET (SIRIUS)
	{ TCC_GPF(6)  ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },	//DMB_ANT_SHORT
	{ TCC_GPF(7)  ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },	//DMB_ANT_OPEN
	{ TCC_GPF(8)  ,GPIO_FN0 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//DMB_ANT_SHDN
	{ TCC_GPF(9)  ,GPIO_FN0 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//WL_REG_ON GPIO_F09
	{ TCC_GPF(10) ,GPIO_FN0 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//BT_RESET
	{ TCC_GPF(11) ,GPIO_FN0 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//GPS_BOOT_MODE	GPS BOOT MODE SELECT
	{ TCC_GPF(12) ,GPIO_FN0 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//BT_REG_ON   GPIO_F12
	{ TCC_GPF(13) ,GPIO_FN9 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//BT_UART_TX  UART_TXD[14]
	{ TCC_GPF(14) ,GPIO_FN9 , GPIO_INPUT           , GPIO_PULLDISABLE },	//BT_UART_RX  UART_RXD[14]
	{ TCC_GPF(15) ,GPIO_FN9 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//BT_UART_RTS UART_nRTS[14]
	{ TCC_GPF(16) ,GPIO_FN9 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//BT_UART_CTS UART_nCTS[14]
	{ TCC_GPF(17) ,GPIO_FN0 , GPIO_OUTPUT|GPIO_HIGH, GPIO_PULLDISABLE },	//USB20_PWR_EN MODEM_USB_POWER_ON
	{ TCC_GPF(18) ,GPIO_FN0 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//TW8836_RESET 
	{ TCC_GPF(19) ,GPIO_FN0 , GPIO_OUTPUT|GPIO_HIGH, GPIO_PULLDISABLE },	//USB_PWR_EN   USB30_5V_CTL
	{ TCC_GPF(20) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPF(21) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },	//WL_HOST_WAKE_UP
	{ TCC_GPF(22) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPF(23) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPF(24) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },	//USB_DEV_DET# GPIO_F24
	{ TCC_GPF(25) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPF(26) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },	//M101_MICOM_PB12
	{ TCC_GPF(27) ,GPIO_FN0 , GPIO_INPUT 		   , GPIO_PULLDISABLE },	//M100_MICOM_PD12
	{ TCC_GPF(28) ,GPIO_FN0 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//M96_MICOM_PD11
	{ TCC_GPF(29) ,GPIO_FN0 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//M95_MICOM_PD10 - COLD Reboot
	{ TCC_GPF(30) ,GPIO_FN9 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//UART1_DEBUG_TXD UART_TXD[16]
	{ TCC_GPF(31) ,GPIO_FN9 , GPIO_INPUT           , GPIO_PULLDISABLE },	//UART1_DEBUG_RXD UART_RXD[16]

	{ TCC_GPG(0)  ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPG(1)  ,GPIO_FN1 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//8930_I2S_BCLK		DAI_BCLK
	{ TCC_GPG(2)  ,GPIO_FN1 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//8930_I2S_LRCK		DAI_LRCK
	{ TCC_GPG(3)  ,GPIO_FN1 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//8930_I2S_DOUT		DAI_DO
	{ TCC_GPG(4)  ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
	{ TCC_GPG(5)  ,GPIO_FN3 , GPIO_INPUT           , GPIO_PULLDISABLE },	//EX_CDP_UART_RXD[21]
	{ TCC_GPG(6)  ,GPIO_FN3 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//EX_CDP_UART_TXD[21]
	{ TCC_GPG(7)  ,GPIO_FN1 , GPIO_INPUT           , GPIO_PULLDISABLE },	//CPU_PCM_CLK		MDAI_BCLK
	{ TCC_GPG(8)  ,GPIO_FN1 , GPIO_INPUT           , GPIO_PULLDISABLE },	//CPU_PCM_SYNC		MDAI_LRCK
	{ TCC_GPG(9)  ,GPIO_FN1 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//CPU_PCM_DOUT		MDAI_DO[00]
	{ TCC_GPG(10) ,GPIO_FN1 , GPIO_INPUT           , GPIO_PULLDISABLE },	//CPU_PCM_DIN		MDAI_DI[00]
	{ TCC_GPG(11) ,GPIO_FN1 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//BT_PCM_DOUT		MDAI_DO[01]
	{ TCC_GPG(12) ,GPIO_FN1 , GPIO_INPUT           , GPIO_PULLDISABLE },	//BT_PCM_DIN		MDAI_DI[01]
	{ TCC_GPG(13) ,GPIO_FN1 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//MODEM_PCM_DOUT	MDAI_DO[02]
	{ TCC_GPG(14) ,GPIO_FN1 , GPIO_INPUT           , GPIO_PULLDISABLE },	//MODEM_PCM_DIN		MDAI_DI[02]
	{ TCC_GPG(15) ,GPIO_FN0 , GPIO_OUTPUT|GPIO_HIGH, GPIO_PULLDISABLE },	//GPS_ANT_PWR_ON, 140407 Power On Modified
	{ TCC_GPG(16) ,GPIO_FN0 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//DRM_RESET GPIOG[16] - iPod reset
	{ TCC_GPG(17) ,GPIO_FN1 , GPIO_INPUT           , GPIO_PULLDISABLE },	//D91_SPDIF_SOUND_HOUND	MSPDIF_RX
	{ TCC_GPG(18) ,GPIO_FN1 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },	//8930_SPDIF_TX			MSPDIF_TX
	{ TCC_GPG(19) ,GPIO_FN0 , GPIO_INPUT           , GPIO_PULLDISABLE },
};


struct gpio_cfg TCC8930_GPHDMI_init_tbl[] = {
	{ TCC_GPHDMI(0)  ,GPIO_FN0 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },
	{ TCC_GPHDMI(1)  ,GPIO_FN0 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },
	{ TCC_GPHDMI(2)  ,GPIO_FN0 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },
	{ TCC_GPHDMI(3)  ,GPIO_FN0 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE }
};

struct gpio_cfg TCC8930_GPADC_init_tbl[] = {
	{ TCC_GPADC(2)  ,GPIO_FN0 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },
	{ TCC_GPADC(3)  ,GPIO_FN0 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },
	{ TCC_GPADC(4)  ,GPIO_FN0 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE },
	{ TCC_GPADC(5)  ,GPIO_FN0 , GPIO_OUTPUT|GPIO_LOW , GPIO_PULLDISABLE }
};

void gpio_adc_input_init_early(void)
{
	int i;
	int size = sizeof(TCC8930_GPADC_init_tbl) / sizeof(TCC8930_GPADC_init_tbl[0]);

	for (i = 0; i < size; i++)
	{
		gpio_config(TCC8930_GPADC_init_tbl[i].port, GPIO_FN0 | GPIO_INPUT | GPIO_PULLDISABLE);
	}
}

/**
 * @author valky@cleinsoft.com
 * @date 2014/04/02
 * Get D-Audio board revision from GPIO ADC.
 **/
unsigned char get_daudio_board_rev(void)
{
	int i;
	unsigned char ret_val = 0;
	int value = 0;
	int size = sizeof(TCC8930_GPADC_init_tbl) / sizeof(TCC8930_GPADC_init_tbl[0]);

	for (i = 0; i < size; i++)
	{
		value = gpio_get(TCC8930_GPADC_init_tbl[i].port);
		ret_val |= (value << i);
	}

	return ret_val;
}
#endif

void gpio_init_early(void)
{
	unsigned int i;
#if defined(TARGET_BOARD_DAUDIO) && (DAUDIO_HW_REV >= 0x20140220)
	unsigned char main_ver = get_daudio_main_ver();

	switch (main_ver)
	{
		case DAUDIO_BOARD_6TH:
		case DAUDIO_BOARD_5TH:
		default:
			for (i = 0; i < sizeof(DAUDIO_REV_5_GPIO_init_tbl) / sizeof(DAUDIO_REV_5_GPIO_init_tbl[0]); i++)
				gpio_config(DAUDIO_REV_5_GPIO_init_tbl[i].port,
						DAUDIO_REV_5_GPIO_init_tbl[i].function |
						DAUDIO_REV_5_GPIO_init_tbl[i].direction |
						DAUDIO_REV_5_GPIO_init_tbl[i].pull);
			break;
	}

	for (i = 0; i < (sizeof(TCC8930_GPHDMI_init_tbl) / sizeof(TCC8930_GPHDMI_init_tbl[0])); i++)
		gpio_config(TCC8930_GPHDMI_init_tbl[i].port,
					TCC8930_GPHDMI_init_tbl[i].function |
					TCC8930_GPHDMI_init_tbl[i].direction |
					TCC8930_GPHDMI_init_tbl[i].pull);

	//Schimitt Input Function enable
	volatile GPION *gpioc = (volatile GPION *)tcc_p2v(HwGPIOC_BASE);
	volatile GPION *gpiod = (volatile GPION *)tcc_p2v(HwGPIOD_BASE);

	BITSET(gpioc->GPIS.nREG, 0x18000200); //GPC9, GPC27, GPC28
	BITSET(gpiod->GPIS.nREG, 0x1FF); //GPD0 ~ GPD8

#else	//D-Audio 1st, 2nd
	for(i=0 ; i<(sizeof(TCC8930_GPA_init_tbl)/sizeof(TCC8930_GPA_init_tbl[0])) ; i++)
		gpio_config(TCC8930_GPA_init_tbl[i].port, TCC8930_GPA_init_tbl[i].function|TCC8930_GPA_init_tbl[i].direction|TCC8930_GPA_init_tbl[i].pull);

	for(i=0 ; i<(sizeof(TCC8930_GPB_init_tbl)/sizeof(TCC8930_GPB_init_tbl[0])) ; i++)
		gpio_config(TCC8930_GPB_init_tbl[i].port, TCC8930_GPB_init_tbl[i].function|TCC8930_GPB_init_tbl[i].direction|TCC8930_GPB_init_tbl[i].pull);

	for(i=0 ; i<(sizeof(TCC8930_GPC_init_tbl)/sizeof(TCC8930_GPC_init_tbl[0])) ; i++)
		gpio_config(TCC8930_GPC_init_tbl[i].port, TCC8930_GPC_init_tbl[i].function|TCC8930_GPC_init_tbl[i].direction|TCC8930_GPC_init_tbl[i].pull);

	for(i=0 ; i<(sizeof(TCC8930_GPD_init_tbl)/sizeof(TCC8930_GPD_init_tbl[0])) ; i++)
		gpio_config(TCC8930_GPD_init_tbl[i].port, TCC8930_GPD_init_tbl[i].function|TCC8930_GPD_init_tbl[i].direction|TCC8930_GPD_init_tbl[i].pull);

	for(i=0 ; i<(sizeof(TCC8930_GPE_init_tbl)/sizeof(TCC8930_GPE_init_tbl[0])) ; i++)
		gpio_config(TCC8930_GPE_init_tbl[i].port, TCC8930_GPE_init_tbl[i].function|TCC8930_GPE_init_tbl[i].direction|TCC8930_GPE_init_tbl[i].pull);

	for(i=0 ; i<(sizeof(TCC8930_GPF_init_tbl)/sizeof(TCC8930_GPF_init_tbl[0])) ; i++)
		gpio_config(TCC8930_GPF_init_tbl[i].port, TCC8930_GPF_init_tbl[i].function|TCC8930_GPF_init_tbl[i].direction|TCC8930_GPF_init_tbl[i].pull);

	for(i=0 ; i<(sizeof(TCC8930_GPG_init_tbl)/sizeof(TCC8930_GPG_init_tbl[0])) ; i++)
		gpio_config(TCC8930_GPG_init_tbl[i].port, TCC8930_GPG_init_tbl[i].function|TCC8930_GPG_init_tbl[i].direction|TCC8930_GPG_init_tbl[i].pull);

	for(i=0 ; i<(sizeof(TCC8930_GPHDMI_init_tbl)/sizeof(TCC8930_GPHDMI_init_tbl[0])) ; i++)
		gpio_config(TCC8930_GPHDMI_init_tbl[i].port, TCC8930_GPHDMI_init_tbl[i].function|TCC8930_GPHDMI_init_tbl[i].direction|TCC8930_GPHDMI_init_tbl[i].pull);

	for(i=0 ; i<(sizeof(TCC8930_GPADC_init_tbl)/sizeof(TCC8930_GPADC_init_tbl[0])) ; i++)
		gpio_config(TCC8930_GPADC_init_tbl[i].port, TCC8930_GPADC_init_tbl[i].function|TCC8930_GPADC_init_tbl[i].direction|TCC8930_GPADC_init_tbl[i].pull);
#endif
}
